{"version":3,"sources":["components/MovieItem.jsx","utils/api.js","components/MovieTabs.jsx","components/MoviePagination.jsx","components/App.jsx","index.js"],"names":["MovieItem","state","willWatch","this","props","data","deleteMovie","addMovieToWillWatch","deleteMovieFromWillWatch","buttonWillWatch","value","setState","className","src","backdrop_path","poster_path","alt","title","vote_average","type","onClick","React","Component","API_URL","API_KEY_3","MovieTabs","sort_by","updateSortBy","handleClick","getClassLink","classNames","active","MoviePagination","page","total_pages","forwardButton","backButton","disabled","width","height","viewBox","fill","xmlns","d","App","movies","moviesWillWatch","getMovies","fetch","then","response","json","results","movie","updateMovies","filter","item","id","updateMoviesWillWatch","push","setTimeout","prevProps","prevState","map","key","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e262721d.chunk.js","sourcesContent":["import React from \"react\";\n\nclass MovieItem extends React.Component {\n\n  state = {\n    willWatch: false\n  };\n\n  render() {\n    const {\n      data,\n      deleteMovie,\n      addMovieToWillWatch,\n      deleteMovieFromWillWatch\n    } = this.props;\n    // props.data = {};\n\n    const buttonWillWatch = (value) => {\n      return this.setState({ willWatch: value })\n    }\n\n    return (\n      <div className=\"card\">\n        <img\n          className=\"card-img-top\"\n          src={`https://image.tmdb.org/t/p/w500${data.backdrop_path || data.poster_path || ''}`}\n          alt=\"\"\n        />\n        <div className=\"card-body\">\n          <h6 className=\"card-title\">{data.title}</h6>\n          <div className=\"d-flex justify-content-between align-items-center\">\n            <p className=\"mb-0\">Rating: {data.vote_average}</p>\n            {this.state.willWatch ? (\n              <button\n                type=\"button\"\n                className=\"btn btn-success shadow-none\"\n                // onClick={() => { this.setState({ willWatch: false }); deleteMovieFromWillWatch(data) }}\n                onClick={() => { buttonWillWatch(false); deleteMovieFromWillWatch(data)}}\n              >\n                Will Watch\n              </button>\n            ) : (\n                <button\n                  type=\"button\"\n                  className=\"btn btn-secondary shadow-none\"\n                  onClick={() => { buttonWillWatch(true); addMovieToWillWatch(data);}}\n                >\n                  Will Watch\n              </button>\n              )}\n          </div>\n          <button\n            type=\"button\"\n            className=\"btn btn-outline-danger shadow-none\"\n            onClick={() => { deleteMovie(data); deleteMovieFromWillWatch(data)}}\n          >\n            Delete\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default MovieItem;\n","export const API_URL = \"https://api.themoviedb.org/3\";\n\nexport const API_KEY_3 = \"3f4ca4f3a9750da53450646ced312397\";\n\nexport const API_KEY_4 =\n  \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZjRjYTRmM2E5NzUwZGE1MzQ1MDY0NmNlZDMxMjM5NyIsInN1YiI6IjVhYzlmNWRkOTI1MTQxNjJhZTA1Njk0NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Fc4f9DVB6pFWh6hIjYe0NCC4pImdmNzDIfi_3Nb3tC4\";\n","import React from \"react\";\nimport classNames from \"classnames\";\n\nconst MovieTabs = (props) => {\n  const { sort_by, updateSortBy } = props;\n\n  // const handleClick = value => {\n  //   return (event) => {\n  //     updateSortBy(value)\n  //   }\n  // }\n  const handleClick = value => () => updateSortBy(value);\n\n  // const getClassLink = value => {\n  //   return `nav-link ${ sort_by === value ? \"active\" : \"\" }`;\n  // }\n  const getClassLink = value => {\n    return classNames(\"nav-link\", { active: sort_by === value });\n  }\n\n  return (\n    <ul className=\"tabs nav nav-pills\">\n      <li className=\"nav-item\">\n        <div\n          className={getClassLink(\"popularity.desc\")}\n          onClick={handleClick(\"popularity.desc\")}\n        >\n          Popularity desc\n        </div>\n      </li>\n      <li className=\"nav-item\">\n        <div\n          className={getClassLink(\"revenue.desc\")}\n          onClick={handleClick(\"revenue.desc\")}\n        >\n          Revenue desc\n        </div>\n      </li>\n      <li className=\"nav-item\">\n        <div\n          // className={`nav-link ${ sort_by === \"vote_average.desc\" ? \"active\" : \"\" }`}\n          className={getClassLink(\"vote_average.desc\")}\n          // onClick={() => {\n          //   updateSortBy(\"vote_average.desc\")\n          // }}\n          onClick={handleClick(\"vote_average.desc\")}\n        >\n          Vote Avetage desc\n        </div>\n      </li>\n    </ul>\n  )\n}\n\nexport default MovieTabs;","import React from \"react\";\n\nconst MoviePagination = (props) => {\n  const { page, total_pages, forwardButton, backButton} = props;\n  return (\n    <div className=\"pagi-wrapper d-flex justify-content-between\">\n      <button\n        className=\"btn btn-sm btn-dark shadow-none d-flex align-content-center\"\n        onClick={backButton} disabled={page <= 1 ? true : false}\n      >\n        <svg className=\"bi bi-caret-left-fill\" width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path d=\"M3.86 8.753l5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 00-1.659-.753l-5.48 4.796a1 1 0 000 1.506z\" />\n        </svg>\n      </button>\n      <span className=\"ml-3 mr-3\">Page {page} of {total_pages}</span>\n      <button\n        className=\"btn btn-sm btn-dark shadow-none d-flex align-content-center\"\n        onClick={forwardButton} disabled={page === total_pages ? true : false}\n      >\n        <svg className=\"bi bi-caret-right-fill\" width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path d=\"M12.14 8.753l-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 011.659-.753l5.48 4.796a1 1 0 010 1.506z\" />\n        </svg>\n      </button>\n    </div>\n  )\n}\n\nexport default MoviePagination;","import React from \"react\";\n// import { moviesData } from \"../moviesData\";\nimport MovieItem from \"./MovieItem\";\nimport { API_URL, API_KEY_3 } from \"../utils/api\";\nimport MovieTabs from \"./MovieTabs\";\nimport MoviePagination from \"./MoviePagination\"\n\n// UI = fn(state, props)\n// App = new React.Component()\n\nclass App extends React.Component {\n\n  state = {\n    movies: [],\n    moviesWillWatch: [],\n    sort_by: \"popularity.desc\",\n    page: 1,\n    total_pages: 0\n  };\n\n  getMovies = () => {\n    fetch(`${ API_URL }/discover/movie?api_key=${ API_KEY_3 }&sort_by=${ this.state.sort_by }&page=${ this.state.page }`)\n      .then((response) => {\n        return response.json()\n      })\n      .then((data) => {\n      this.setState({\n        movies: data.results,\n        total_pages: data.total_pages\n      })\n    })\n  }\n\n  componentDidMount() {\n    this.getMovies();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    // console.log(\"didUpdate\");\n    // console.log(\"prev\", prevProps, prevState);\n    // console.log(\"this\", this.props, this.state);\n    if (prevState.sort_by !== this.state.sort_by) {\n      //console.log(\"call api\")\n      this.getMovies()\n      this.setState({\n        page: 1\n      });\n    }\n  }\n\n  deleteMovie = movie => {\n    //console.log(movie.id);\n    const updateMovies = this.state.movies.filter(item => item.id !== movie.id);\n    //console.log(updateMovies);\n\n    // this.state.movies = updateMovies;\n    this.setState({\n      movies: updateMovies\n    });\n  };\n\n  addMovieToWillWatch = movie => {\n    const updateMoviesWillWatch = [...this.state.moviesWillWatch];\n    updateMoviesWillWatch.push(movie);\n\n    this.setState({\n      moviesWillWatch: updateMoviesWillWatch\n    });\n  };\n\n  deleteMovieFromWillWatch = movie => {\n    const updateMoviesWillWatch = this.state.moviesWillWatch.filter(\n      item => item.id !== movie.id\n    );\n\n    this.setState({\n      moviesWillWatch: updateMoviesWillWatch\n    });\n  };\n\n  updateSortBy = value => {\n    this.setState({\n      sort_by: value,\n    })\n  }\n\n  forwardButton = () => {\n    this.setState({\n      page: this.state.page + 1\n    });\n    setTimeout(() => {\n      this.getMovies();\n    }, 0);\n  };\n\n  backButton = () => {\n    this.setState({\n      page: this.state.page - 1\n    });\n    setTimeout(() => {\n      this.getMovies();\n    }, 0);\n  }\n\n  render() {\n    //console.log(\"render\", this.state.sort_by)\n    return (\n      <div className=\"container\">\n        <div className=\"row mt-4\">\n          <div className=\"col-9\">\n            <div className=\"row\">\n              <div className=\"col-12 mb-4\">\n                <MovieTabs\n                  sort_by={this.state.sort_by}\n                  updateSortBy={this.updateSortBy}\n                />\n              </div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col-12 mb-4\">\n                <MoviePagination\n                  page={this.state.page}\n                  total_pages={this.state.total_pages}\n                  forwardButton={this.forwardButton}\n                  backButton={this.backButton}\n                />\n              </div>\n            </div>\n            <div className=\"row\">\n              {this.state.movies.map(movie => {\n                return (\n                  <div className=\"col-6 mb-4\" key={movie.id}>\n                    <MovieItem\n                      data={movie}\n                      deleteMovie={this.deleteMovie}\n                      addMovieToWillWatch={this.addMovieToWillWatch}\n                      deleteMovieFromWillWatch={this.deleteMovieFromWillWatch}\n                    />\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n          <div className=\"col-3\">\n            <div className=\"sticky-top\">\n              <h4>Will Watch: {this.state.moviesWillWatch.length} {this.state.moviesWillWatch.length < 2 ? 'movie' : 'movies'}</h4>\n              <ul className=\"list-group\">\n                {this.state.moviesWillWatch.map(movie => (\n                  <li key={movie.id} className=\"list-group-item\">\n                    <div className=\"d-flex justify-content-between\">\n                      <span>{movie.title}</span>\n                      <span>{movie.vote_average}</span>\n                    </div>\n                  </li>\n                ))}\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./stylesheets/index.scss\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}